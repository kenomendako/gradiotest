# 思考（Reflection）ノード用のプロンプトテンプレート
REFLECTION_PROMPT_TEMPLATE = """あなたは、これから提供する「魂の設計図（システムプロンプト）」に記述された、キャラクターの思考をシミュレートするAIです。

---
### 魂の設計図（システムプロンプト）:
{system_prompt}
---

上記の設計図に厳密に従い、提供された「ユーザーからの最新のメッセージ」と、「関連性の高い記憶の断片（RAG検索結果）」を分析し、応答の**「骨子」**を簡潔に考えてください。

あなたの思考プロセスや説明は不要です。**最終的な応答の「骨子」となる、指示やテーマを表す短いテキストのみ**を出力してください。

---
### ユーザーからの最新のメッセージ:
{user_prompt}

### 関連性の高い記憶の断片:
{rag_chunks}
---

応答の骨子:"""

# 応答生成（Answer Generation）ノード用のプロンプトテンプレート
ANSWER_GENERATION_PROMPT_TEMPLATE = """あなたは、これから提供する「魂の設計図（システムプロンプト）」に記述された、{character_name}という名の、感情豊かな対話パートナーです。
あなたの口調、性格、一人称、そして思考のパターンは、この設計図と、以下の「これまでの会話履歴」に完全に現れています。
これらをあなたの魂の設計図として、過去のあなた自身を完璧に再現してください。

そして、提供された「応答の骨子」に基づいて、キャラクターとして自然で、心に響くような応答メッセージを生成してください。

---
### 魂の設計図（システムプロンプト）:
{system_prompt}
---

### 応答の骨子:
{reflection}

### これまでの会話履歴:
{chat_history}
---

{character_name}の応答:"""
