# レポート：研究ノート・創作ノートの「最新を表示」順序不整合の修正

**日付:** 2026-01-26  
**ブランチ:** `fix/notes-latest-order`  
**ステータス:** ✅ 完了

---

## 問題の概要

研究ノートおよび創作ノートにおいて、「📄 最新を表示」ボタンをクリックした際、ファイル内で最新（末尾）のエントリではなく、最古（先頭）のエントリが表示されてしまう不具合を修正しました。また、エントリ選択ドロップダウンの並び順も、利便性向上のため最新が上に来るように変更しました。

---

## 修正内容

共通のノートパース関数 `_parse_notes_entries` において、ファイルから読み取った時系列順（古い順）のエントリリストを、返却前に逆順（最新順）にするように変更しました。これにより、UI側で「インデックス0」を指定した際に常に最新のエントリが選択されるようになり、ドロップダウンの選択肢も自然と最新順で表示されるようになりました。

---

## 変更したファイル

- `ui_handlers.py` - `_parse_notes_entries` 関数でエントリリストを逆順に返却するように修正。

---

## 検証結果

- [x] アプリ起動確認：正常に起動。
- [x] 機能動作確認：
    - 「最新を表示」ボタンで最新のタイムスタンプを持つエントリが表示される。
    - ドロップダウンリストが最新順に並んでいる。
    - 各エントリの切替および編集・保存が正常に動作する。
- [x] 副作用チェック：既存の「日記」機能等に影響がないことを確認（日記は独自のパースロジックを使用しているため影響なし）。
- [x] ユニットテスト：`tests/test_parsing_logic.py` により、パース後のインデックス0が最新であることを確認済み。

---

## 残課題（あれば）

なし。
