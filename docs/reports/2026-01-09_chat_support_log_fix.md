# チャット支援ツールのログ修正で不要な出力が足される問題の修正

## 概要
チャット支援ツールの「ログ修正」機能を使用した際、ログファイルに「【修正後のテキスト】」や罫線などの不要なテキストが混入してしまう問題を修正しました。

## 変更内容
### `gemini_api.py`
- `_fix_punctuation` 関数内のプロンプトを変更し、修正結果を `<result>` タグで囲んで出力するように指示を追加しました。
- モデルからのレスポンスに対し、`<result>...</result>` タグの中身のみを抽出する後処理ロジックを追加しました。
- タグが見つからない場合のフォールバックとして、従来のヘッダー除去ロジックも（安全性のため最低限の範囲で）保持しています。

## 検証結果
- unit test (`tests/verify_punctuation_cleaner.py`) を作成し、以下のケースを検証・合格しました。
    - 正常なタグ付き出力からの抽出
    - 本文に改行が含まれるケース
    - 本文に罫線（`---`）が含まれるケース（削除されないことを確認）
    - タグがない場合のフォールバック挙動

## 影響範囲
- チャット支援ツールの「ログ修正」機能（`ui_handlers.handle_log_punctuation_correction` 経由）のみ。

## 関連ファイル
- `gemini_api.py`
