# Antigravity 活用ガイド：Nexus Ark開発のためのパートナーシップ

このドキュメントでは、Antigravity（AIエージェント）を最大限に活用し、Nexus Arkの開発効率を高めるためのワークフローや考え方を解説します。
技術的な詳細に詳しくなくても、Antigravityを「信頼できる開発パートナー（相棒）」として扱うことで、スムーズな開発が可能になります。

## 1. 基本的な考え方：司令官と実務者

Antigravityとの関係は、あなたが「司令官（またはプロダクトオーナー）」、Antigravityが「実務者（PM兼エンジニア）」と考えるとスムーズです。

- **あなたの役割**:
    - **「やりたいこと（What）」を決める**: 「この機能が欲しい」「ここが使いにくいから直したい」
    - **決定を下す**: 提案された計画やコードに対して「Go」か「No」か判断する。
    - **成果を確認する**: 出来上がったものが意図通りか確認する。
- **Antigravityの役割**:
    - **「どうやるか（How）」を考える**: 具体的なコード、設計、手順を考える。
    - **作業計画を立てる**: タスクを分解し、順序を決める。
    - **実装・テストする**: コードを書き、動作確認の方法を提案する。

## 2. 推奨ワークフロー：エージェントモードの活用

現在Antigravityが稼働している「エージェントモード」は、複雑なタスクを遂行するために特別に設計されています。以下のサイクルを回すことで、着実に開発を進められます。

### Step 1: 依頼（Planning）
あなたは「～を作りたい」「～を直したい」と伝えます。曖昧でも構いません。
Antigravityはこれを受け、以下のArtifact（成果物）を作成して応答します。

- **`task.md` (タスクリスト)**: やるべきことをリストアップしたもの。
- **`implementation_plan.md` (実装計画書)**: 具体的にどのファイルをどう変えるかの計画。

> **ポイント（並列作業・分業の鍵）**:
> この段階でAntigravityに完全に計画を任せてください。あなたは計画書(`implementation_plan.md`)を見て、「やりたいことと合っているか」だけをチェックすればOKです。技術的な詳細はわからなくても、「UIにボタンを追加する」といった概要が合っていれば承認してください。

### Step 2: 承認と実行（Execution）
計画に問題なければ、「OK、進めて」と伝えます。
Antigravityは実装作業に入ります。ここでの待ち時間が、あなたの「自由時間」です。

> **ポイント**: 
> Antigravityが作業している間、あなたはコーヒーを飲んだり、次のアイデアを練ったりできます。これが実質的な「並列作業」です。AIに重い処理を任せている間に、人間は別のことをするのです。

### Step 3: 確認（Verification）
実装が終わると、Antigravityは報告します。
場合によっては **`walkthrough.md`** というレポートを作成し、「何をテストしたか」「どうやって確認すればいいか」を示します。

あなたはNexus Arkを起動し、実際に機能が動くか確認してください。

## 3. 具体的な指示の出し方のコツ

技術用語を知らなくても大丈夫です。以下のように伝えてください。

- **ゴールを明確に**: 
    - 悪い例：「いい感じにして」
    - 良い例：「チャット画面の文字が小さくて読みづらいので、もっと大きく、モダンなフォントにしたい」
- **「わからない」と言う**:
    - 「エラーが出たけど意味がわからない。調べて直して」
    - 「この機能をどう実装すればいいかわからないから、いくつか案を出して」
- **ドキュメントを活用する**:
    - 「`docs/guides/gradio_notes.md` に従ってる？」と聞くことで、過去のルールを守らせることができます。

## 4. プロジェクト管理（PM）としてのAntigravity

開発が進むと、「次に何をやるべきか」がわからなくなることがあります。そんな時もAntigravityを頼ってください。

- 「今の課題を整理して」
- 「`task.md` を更新して、残りの作業を教えて」

Antigravityは `task.md` を常にメンテナンスし、プロジェクトの羅針盤として機能させることができます。


## 6. 並列作業と分業（上級編）

「機能Aを作りながら、機能Bも進めたい」「もっと早く回したい」という場合は、以下のテクニックを使ってください。

### （1）「まとめ投げ」による疑似並列（Batching）
Antigravityは一度に一つのことしか実行できませんが、**計画段階で複数のタスクをキューに積む**ことは可能です。

- **やり方**:
    1. 「以下の3つの機能を実装したい」とまとめて伝えます。
    2. Antigravityが`task.md`にリストアップし、順次実行します。
    3. あなたは最初の指示を出したら、あとは私が一つ一つ処理し終わるのを待つだけです（途中の細かい確認をスキップするよう指示も可能）。

### （2）ブランチごとのスイッチング
異なる機能（ブランチ）を同時に進めたい場合も、指示を一回にまとめられます。

- **指示の例**:
    > 「まずはブランチ `feature-a` でログイン機能を実装して。
    > それが終わったら、ブランチ `feature-b` に切り替えて、デザイン崩れを修正して。」

このように**順序を指定して予約**しておけば、私は自律的にブランチを切り替えながら作業を進めます。

### （3）完全な分業（実装とテストの分離）
あなたがテストや検証をしている間に、私に次の実装を進めさせることも可能です。

- **やり方**:
    1. 私が機能Aを実装し、報告する。
    2. あなたが機能Aをテストしている間に、「次は機能Bの実装計画だけ立てておいて」と指示する。
    3. テストが終わる頃には、次の計画ができあがっています。

## 7. まとめ

**「技術的なことはAntigravityに任せ、自分は体験（UX）と仕様の決定に集中する」**
これが、Nexus Ark開発における最も効率的な分業スタイルです。

困ったときはいつでも「どうすればいい？」と聞いてください。一緒に考え、計画を立て、実行します。
